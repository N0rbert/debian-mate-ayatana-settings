#!/usr/bin/env bash

function overlay_file() {
    local SYSTEM_FILE="/usr/share/ubuntu-mate/settings-overlay/${1}"
    local USER_FILE="${HOME}/.${1}"
    local USER_DIR=$(dirname "${USER_FILE}")
    if [ ! -f "${USER_FILE}" ]; then
        mkdir -p "${USER_DIR}"
        cp "${SYSTEM_FILE}" "${USER_FILE}"
    fi
}

overlay_file config/dock1/settings
overlay_file config/dock1/launchers/firefox.dockitem
overlay_file config/dock1/launchers/matecc.dockitem
overlay_file config/dock1/launchers/plank.dockitem
overlay_file config/dock1/launchers/thunderbird.dockitem
overlay_file config/dock1/launchers/ubuntu-software-center.dockitem
overlay_file config/dock1/launchers/vlc.dockitem
overlay_file config/folder-color/hide_donation
overlay_file config/Trolltech.conf
overlay_file local/share/applications/im-config.desktop
overlay_file local/share/applications/tilda.desktop
update-desktop-database -q ${HOME}/.local/share/applications/
